!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.ImgBlurIn={})}(this,function(e){"use strict";function n(e){r?window.setTimeout(e,0):a.push(e)}var t,o=function(e,n){var t=window.document.head.getElementsByTagName("style")[0];t||(t=window.document.createElement("style"),window.document.head.insertBefore(t,window.document.head.firstChild));var o=t.sheet,i=o.cssRules||o.rules;o.insertRule(e+"{"+n+"}",i.length)},i=function(e,n,t){void 0===t&&(t={});var o,i,a,r=0,s=0,d=function(){s=!1===t.leading?0:Date.now(),r=0,a=e.apply(o,i),r||(o=i=null)};return function(){var l=Date.now();s||!1!==t.leading||(s=l);var m=n-(l-s);return o=this,i=arguments,m<=0||m>n?(r&&(clearTimeout(r),r=0),s=l,a=e.apply(o,i),r||(o=i=null)):r||!1===t.trailing||(r=setTimeout(d,m)),a}},a=[],r=(window.document.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(window.document.readyState);!r&&window.document.addEventListener&&window.document.addEventListener("DOMContentLoaded",t=function(){for(window.document.removeEventListener("DOMContentLoaded",t),r=!0;t=a.shift();)t()});var s=Array.isArray,d={},l={},m=void 0,u=void 0,c=void 0,f={on:function(e,n){if(n){if(!m){var t=document,o=t.head,i=function(e,n,t,o){if(n=l[e.animationName])for(e.stopImmediatePropagation(),t=n.length,o=0;o<t;o++)n[o](e.target)};t.addEventListener("webkitAnimationStart",i,!0),t.addEventListener("animationstart",i,!0),m=t.createElement("style"),o.insertBefore(m,o.firstChild),u=m.sheet,c=u.cssRules}(s(e)?e:[e]).map(function(e,t,o){if(!(t=d[e])){o="!"==e[0],d[e]=t=o?e.slice(1):"sentinel-"+Math.random().toString(16).slice(2);var i="{from{-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;}to{-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;}}",a=void 0;try{a=u.insertRule("@-webkit-keyframes "+t+i,c.length)}catch(r){}try{a=u.insertRule("@-moz-keyframes "+t+i,c.length)}catch(r){}try{a=u.insertRule("@-o-keyframes "+t+i,c.length)}catch(r){}try{a=u.insertRule("@keyframes "+t+i,c.length)}catch(r){}c[a]._id=e,o||(c[u.insertRule(e+"{-webkit-animation-duration:0.0001s;-moz-animation-duration:0.0001s;-ms-animation-duration:0.0001s;-o-animation-duration:0.0001s;animation-duration:0.0001s;\n                                -webkit-animation-name:"+t+";-moz-animation-name:"+t+";-ms-animation-name:"+t+";-o-animation-name:"+t+";animation-name:"+t+";}",c.length)]._id=e),d[e]=t}(l[t]=l[t]||[]).push(n)})}},off:function(e,n){(s(e)?e:[e]).map(function(e,t,o,i){if(t=d[e]){if(o=l[t],n)for(i=o.length;i--;)o[i]===n&&o.splice(i,1);else o=[];if(!o.length){for(i=c.length;i--;)c[i]._id==e&&u.deleteRule(i);delete d[e],delete l[t]}}})},reset:function(){d={},l={},m&&m.parentNode.removeChild(m),m=0}},w="rand_4958672984",h=function(e){return!!e.complete&&("undefined"==typeof e.naturalWidth||0!==e.naturalWidth)},v=function(e){var n=e.getBoundingClientRect(),t=n.top,o=(n.right,n.bottom);return!(t>=Math.max(window.document.documentElement.clientHeight,window.innerHeight||0)||o<=0)},g=function(e,n){var t=function(t){var o=!!e.getAttribute("data-src"),i=e.getAttribute(o?"data-src":"src"),a=function(){e.src=i,o&&e.removeAttribute("data-src"),e.classList.add(n+"-out"),e.classList.remove(n),t&&t()},r=new Image;r.src=i,h(r)?a():r.onload=function(){a()}};if("true"===e.getAttribute("data-lazy"))if(v(e))t();else{var o=i(function(n){v(e)&&t(function(){window.removeEventListener("scroll",o,!1),o=null})},100);window.addEventListener("scroll",o,!1)}else t()},y=function(e){o("."+e+"-out","-webkit-filter: none;-moz-filter: none;-ms-filter: none;-o-filter: none;filter: none;\n        -webkit-transition: all ease .2s;-moz-transition: all ease .2s;-ms-transition: all ease .2s;-o-transition: all ease .2s;transition: all ease .2s;"),n(function(){[].slice.call(window.document.querySelectorAll("img."+e),0).forEach(function(n){g(n,e)})}),f.on(["."+e],function(n){g(n,e)})};window[w]||(window[w]=!0,y("img-blur-in")),e.watch=y,Object.defineProperty(e,"__esModule",{value:!0})});

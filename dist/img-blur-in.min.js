!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.ImgBlurIn={})}(this,function(e){"use strict";function t(e){a?window.setTimeout(e,0):o.push(e)}var n=function(e,t){var n=window.document.head.getElementsByTagName("style")[0];n||(n=window.document.createElement("style"),window.document.head.insertBefore(n,window.document.head.firstChild));var i=n.sheet,o=i.cssRules||i.rules;i.insertRule(e+"{"+t+"}",o.length)},i=function(e,t,n){void 0===n&&(n={});var i,o,a,r=0,d=0,l=function(){d=!1===n.leading?0:Date.now(),r=0,a=e.apply(i,o),r||(i=o=null)};return function(){var s=Date.now();d||!1!==n.leading||(d=s);var u=t-(s-d);return i=this,o=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=0),d=s,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,u)),a}},o=[],a=(window.document.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(window.document.readyState),r=void 0;!a&&window.document.addEventListener&&window.document.addEventListener("DOMContentLoaded",r=function(){for(window.document.removeEventListener("DOMContentLoaded",r),a=!0;r=o.shift();)r()});var d=Array.isArray,l={},s={},u=void 0,c=void 0,f=void 0,m={on:function(e,t){if(t){if(!u){var n=document,i=n.head;n.addEventListener("animationstart",function(e,t,n,i){if(t=s[e.animationName])for(e.stopImmediatePropagation(),n=t.length,i=0;i<n;i++)t[i](e.target)},!0),u=n.createElement("style"),i.insertBefore(u,i.firstChild),c=u.sheet,f=c.cssRules}(d(e)?e:[e]).map(function(e,n,i){(n=l[e])||(i="!"==e[0],l[e]=n=i?e.slice(1):"sentinel-"+Math.random().toString(16).slice(2),f[c.insertRule("@keyframes "+n+"{from{transform:none;}to{transform:none;}}",f.length)]._id=e,i||(f[c.insertRule(e+"{animation-duration:0.0001s;animation-name:"+n+";}",f.length)]._id=e),l[e]=n),(s[n]=s[n]||[]).push(t)})}},off:function(e,t){(d(e)?e:[e]).map(function(e,n,i,o){if(n=l[e]){if(i=s[n],t)for(o=i.length;o--;)i[o]===t&&i.splice(o,1);else i=[];if(!i.length){for(o=f.length;o--;)f[o]._id==e&&c.deleteRule(o);delete l[e],delete s[n]}}})},reset:function(){l={},s={},u&&u.parentNode.removeChild(u),u=0}},w="rand_4958672984",h=function(e){return!!e.complete&&("undefined"==typeof e.naturalWidth||0!==e.naturalWidth)},g=function(e){var t=e.getBoundingClientRect(),n=t.top,i=(t.right,t.bottom);return!(n>=Math.max(window.document.documentElement.clientHeight,window.innerHeight||0)||i<=0)},v=function(e,t){var n=function(){var n=!!e.getAttribute("data-src"),i=e.getAttribute(n?"data-src":"src"),o=function(){e.src=i,n&&e.removeAttribute("data-src"),e.classList.add(t+"-out"),e.classList.remove(t)},a=new Image;a.src=i,h(a)?o():a.onload=function(){o()}};"true"===e.getAttribute("data-lazy")?g(e)?n():window.addEventListener("scroll",i(function(t){g(e)&&n()},100),!1):n()},p=function(e){n("."+e+"-out","-webkit-filter: none;-moz-filter: none;-ms-filter: none;-o-filter: none;filter: none;\n        -webkit-transition: all ease .2s;-moz-transition: all ease .2s;-ms-transition: all ease .2s;-o-transition: all ease .2s;transition: all ease .2s;"),t(function(){[].slice.call(window.document.querySelectorAll("img."+e),0).forEach(function(t){v(t,e)})}),m.on(["."+e],function(t){v(t,e)})};window[w]||(window[w]=!0,p("img-blur-in")),e.watch=p,Object.defineProperty(e,"__esModule",{value:!0})});

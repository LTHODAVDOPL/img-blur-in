!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.ImgBlurIn={})}(this,function(n){"use strict";function e(n){a?window.setTimeout(n,0):i.push(n)}var t=function(n,e){var t=window.document.head.getElementsByTagName("style")[0];t||(t=window.document.createElement("style"),window.document.head.insertBefore(t,window.document.head.firstChild));var o=t.sheet,i=o.cssRules||o.rules;o.insertRule(n+"{"+e+"}",i.length)},o=function(n,e,t){void 0===t&&(t={});var o,i,a,r=0,s=0,d=function(){s=!1===t.leading?0:Date.now(),r=0,a=n.apply(o,i),r||(o=i=null)};return function(){var l=Date.now();s||!1!==t.leading||(s=l);var m=e-(l-s);return o=this,i=arguments,m<=0||m>e?(r&&(clearTimeout(r),r=0),s=l,a=n.apply(o,i),r||(o=i=null)):r||!1===t.trailing||(r=setTimeout(d,m)),a}},i=[],a=(window.document.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(window.document.readyState),r=void 0;!a&&window.document.addEventListener&&window.document.addEventListener("DOMContentLoaded",r=function(){for(window.document.removeEventListener("DOMContentLoaded",r),a=!0;r=i.shift();)r()});var s=Array.isArray,d={},l={},m=void 0,u=void 0,c=void 0,f={on:function(n,e){if(e){if(!m){var t=document,o=t.head,i=function(n,e,t,o){if(e=l[n.animationName])for(n.stopImmediatePropagation(),t=e.length,o=0;o<t;o++)e[o](n.target)};t.addEventListener("webkitAnimationStart",i,!0),t.addEventListener("animationstart",i,!0),m=t.createElement("style"),o.insertBefore(m,o.firstChild),u=m.sheet,c=u.cssRules}(s(n)?n:[n]).map(function(n,t,o){if(!(t=d[n])){o="!"==n[0],d[n]=t=o?n.slice(1):"sentinel-"+Math.random().toString(16).slice(2);var i="{from{-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;}to{-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;}}",a=void 0;try{a=u.insertRule("@-webkit-keyframes "+t+i,c.length)}catch(r){}try{a=u.insertRule("@-moz-keyframes "+t+i,c.length)}catch(r){}try{a=u.insertRule("@-o-keyframes "+t+i,c.length)}catch(r){}try{a=u.insertRule("@keyframes "+t+i,c.length)}catch(r){}c[a]._id=n,o||(c[u.insertRule(n+"{-webkit-animation-duration:0.0001s;-moz-animation-duration:0.0001s;-ms-animation-duration:0.0001s;-o-animation-duration:0.0001s;animation-duration:0.0001s;\n                                -webkit-animation-name:"+t+";-moz-animation-name:"+t+";-ms-animation-name:"+t+";-o-animation-name:"+t+";animation-name:"+t+";}",c.length)]._id=n),d[n]=t}(l[t]=l[t]||[]).push(e)})}},off:function(n,e){(s(n)?n:[n]).map(function(n,t,o,i){if(t=d[n]){if(o=l[t],e)for(i=o.length;i--;)o[i]===e&&o.splice(i,1);else o=[];if(!o.length){for(i=c.length;i--;)c[i]._id==n&&u.deleteRule(i);delete d[n],delete l[t]}}})},reset:function(){d={},l={},m&&m.parentNode.removeChild(m),m=0}},w="rand_4958672984",h=function(n){return!!n.complete&&("undefined"==typeof n.naturalWidth||0!==n.naturalWidth)},g=function(n){var e=n.getBoundingClientRect(),t=e.top,o=(e.right,e.bottom);return!(t>=Math.max(window.document.documentElement.clientHeight,window.innerHeight||0)||o<=0)},v=function(n,e){var t=function(){var t=!!n.getAttribute("data-src"),o=n.getAttribute(t?"data-src":"src"),i=function(){n.src=o,t&&n.removeAttribute("data-src"),n.classList.add(e+"-out"),n.classList.remove(e)},a=new Image;a.src=o,h(a)?i():a.onload=function(){i()}};"true"===n.getAttribute("data-lazy")?g(n)?t():window.addEventListener("scroll",o(function(e){g(n)&&t()},100),!1):t()},y=function(n){t("."+n+"-out","-webkit-filter: none;-moz-filter: none;-ms-filter: none;-o-filter: none;filter: none;\n        -webkit-transition: all ease .2s;-moz-transition: all ease .2s;-ms-transition: all ease .2s;-o-transition: all ease .2s;transition: all ease .2s;"),e(function(){[].slice.call(window.document.querySelectorAll("img."+n),0).forEach(function(e){v(e,n)})}),f.on(["."+n],function(e){v(e,n)})};window[w]||(window[w]=!0,y("img-blur-in")),n.watch=y,Object.defineProperty(n,"__esModule",{value:!0})});

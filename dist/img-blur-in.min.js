!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.ImgBlurIn={})}(this,function(e){"use strict";function n(e){r?window.setTimeout(e,0):a.push(e)}var t,i=function(e,n){var t=window.document.head||window.document.getElementsByTagName("head")[0],i=t.getElementsByTagName("style")[0];i||(i=window.document.createElement("style"),t.insertBefore(i,t.firstChild));var o=i.sheet||i.styleSheet,a=o.cssRules||o.rules;o.insertRule?o.insertRule(e+"{"+n+"}",a.length):o.addRule&&o.addRule(e,n)},o=function(e,n,t){void 0===t&&(t={});var i,o,a,r=0,s=0,d=function(){s=!1===t.leading?0:Date.now(),r=0,a=e.apply(i,o),r||(i=o=null)};return function(){var l=Date.now();s||!1!==t.leading||(s=l);var u=n-(l-s);return i=this,o=arguments,u<=0||u>n?(r&&(clearTimeout(r),r=0),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===t.trailing||(r=setTimeout(d,u)),a}},a=[],r=(window.document.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(window.document.readyState);!r&&window.document.addEventListener&&window.document.addEventListener("DOMContentLoaded",t=function(){for(window.document.removeEventListener("DOMContentLoaded",t),r=!0;t=a.shift();)t()});var s=Array.isArray,d={},l={},u=void 0,m=void 0,f=void 0,c={on:function(e,n){if(n){if(!u){var t=document,i=t.head,o=function(e,n,t,i){if(n=l[e.animationName])for(e.stopImmediatePropagation(),t=n.length,i=0;i<t;i++)n[i](e.target)};t.addEventListener("webkitAnimationStart",o,!0),t.addEventListener("animationstart",o,!0),u=t.createElement("style"),i.insertBefore(u,i.firstChild),m=u.sheet,f=m.cssRules}(s(e)?e:[e]).map(function(e,t,i){if(!(t=d[e])){i="!"==e[0],d[e]=t=i?e.slice(1):"sentinel-"+Math.random().toString(16).slice(2);var o="{from{-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;}to{-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;}}",a=void 0;try{a=m.insertRule("@-webkit-keyframes "+t+o,f.length)}catch(r){}try{a=m.insertRule("@-moz-keyframes "+t+o,f.length)}catch(r){}try{a=m.insertRule("@-o-keyframes "+t+o,f.length)}catch(r){}try{a=m.insertRule("@keyframes "+t+o,f.length)}catch(r){}f[a]._id=e,i||(f[m.insertRule(e+"{-webkit-animation-duration:0.0001s;-moz-animation-duration:0.0001s;-ms-animation-duration:0.0001s;-o-animation-duration:0.0001s;animation-duration:0.0001s;\n                                -webkit-animation-name:"+t+";-moz-animation-name:"+t+";-ms-animation-name:"+t+";-o-animation-name:"+t+";animation-name:"+t+";}",f.length)]._id=e),d[e]=t}(l[t]=l[t]||[]).push(n)})}},off:function(e,n){(s(e)?e:[e]).map(function(e,t,i,o){if(t=d[e]){if(i=l[t],n)for(o=i.length;o--;)i[o]===n&&i.splice(o,1);else i=[];if(!i.length){for(o=f.length;o--;)f[o]._id==e&&m.deleteRule(o);delete d[e],delete l[t]}}})},reset:function(){d={},l={},u&&u.parentNode.removeChild(u),u=0}},w="rand_4958672984",h=function(e){return!!e.complete&&("undefined"==typeof e.naturalWidth||0!==e.naturalWidth)},g=function(e){var n=e.getBoundingClientRect(),t=n.top,i=(n.right,n.bottom);return!(t>=Math.max(window.document.documentElement.clientHeight,window.innerHeight||0)||i<=0)},v=function(e,n){var t=function(t){var i=!!e.getAttribute("data-src"),o=e.getAttribute(i?"data-src":"src"),a=function(){e.src=o,i&&e.removeAttribute("data-src"),e.classList.add(n+"-out"),e.classList.remove(n),t&&t()},r=new Image;r.src=o,h(r)?a():r.onload=function(){a()}};if("true"===e.getAttribute("data-lazy"))if(g(e))t();else{var i=o(function(n){g(e)&&t(function(){window.removeEventListener("scroll",i,!1),i=null})},100);window.addEventListener("scroll",i,!1)}else t()},y=function(e){i("."+e+"-out","-webkit-filter: none;-moz-filter: none;-ms-filter: none;-o-filter: none;filter: none;\n        -webkit-transition: all ease .2s;-moz-transition: all ease .2s;-ms-transition: all ease .2s;-o-transition: all ease .2s;transition: all ease .2s;"),n(function(){[].slice.call(window.document.querySelectorAll("img."+e),0).forEach(function(n){v(n,e)})}),c.on(["."+e],function(n){v(n,e)})},p=function(){var e=window.navigator.userAgent,n=e.indexOf("MSIE "),t=e.indexOf("Trident/"),i=e.indexOf("Edge/");return n>0?e.indexOf("MSIE 1")>0?10:9:t>0?11:i>0&&"edge"};!function(){if(!window[w]){if(window[w]=!0,9===p())return!1;y("img-blur-in")}}(),e.watch=y,Object.defineProperty(e,"__esModule",{value:!0})});
